{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = require(\"react\");\nvar useMercadopago = function useMercadopago(publicKey) {\n  var _a = react_1.useState(),\n    mercadopago = _a[0],\n    setMercadopago = _a[1];\n  react_1.useEffect(function () {\n    var script = document.createElement('script');\n    script.src = 'https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js';\n    script.addEventListener('load', function () {\n      window.Mercadopago.setPublishableKey(publicKey);\n      setMercadopago(window.Mercadopago);\n    });\n    document.body.appendChild(script);\n    return function () {\n      var iframe = document.querySelector('iframe');\n      if (iframe) {\n        document.body.removeChild(iframe);\n      }\n      document.body.removeChild(script);\n    };\n  }, []);\n  return mercadopago;\n};\nexports.default = useMercadopago;","map":{"version":3,"names":["react_1","require","useMercadopago","publicKey","_a","useState","mercadopago","setMercadopago","useEffect","script","document","createElement","src","addEventListener","window","Mercadopago","setPublishableKey","body","appendChild","iframe","querySelector","removeChild","exports","default"],"sources":["/home/luc/Documents/luclongin.github.io/node_modules/react-sdk-mercadopago/src/v1.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\n\nimport { Mercadopago } from './protocols'\n\ndeclare global {\n    interface Window {\n        Mercadopago: Mercadopago\n    }\n}\n\nconst useMercadopago = (publicKey: string) => {\n    const [mercadopago, setMercadopago] = useState<Mercadopago>()\n\n    useEffect(() => {\n        const script = document.createElement('script')\n        script.src = 'https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js'\n\n        script.addEventListener('load', () => {\n            window.Mercadopago.setPublishableKey(publicKey)\n\n            setMercadopago(window.Mercadopago)\n        })\n\n        document.body.appendChild(script)\n\n        return () => {\n            let iframe = document.body.querySelector('iframe[src*=\"mercadolibre\"]')\n\n            if (iframe) {\n                document.body.removeChild(iframe)\n            }\n\n            document.body.removeChild(script)\n        }\n    }, [])\n\n    return mercadopago\n}\n\nexport default useMercadopago\n"],"mappings":";;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAUA,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,SAAiB;EAC/B,IAAAC,EAAA,GAAgCJ,OAAA,CAAAK,QAAQ,EAAe;IAAtDC,WAAW,GAAAF,EAAA;IAAEG,cAAc,GAAAH,EAAA,GAA2B;EAE7DJ,OAAA,CAAAQ,SAAS,CAAC;IACN,IAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACG,GAAG,GAAG,8DAA8D;IAE3EH,MAAM,CAACI,gBAAgB,CAAC,MAAM,EAAE;MAC5BC,MAAM,CAACC,WAAW,CAACC,iBAAiB,CAACb,SAAS,CAAC;MAE/CI,cAAc,CAACO,MAAM,CAACC,WAAW,CAAC;IACtC,CAAC,CAAC;IAEFL,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,MAAM,CAAC;IAEjC,OAAO;MACH,IAAIU,MAAM,GAAGT,QAAQ,CAACU,aAAa,CAAC,QAAQ,CAAC;MAE7C,IAAID,MAAM,EAAE;QACRT,QAAQ,CAACO,IAAI,CAACI,WAAW,CAACF,MAAM,CAAC;;MAGrCT,QAAQ,CAACO,IAAI,CAACI,WAAW,CAACZ,MAAM,CAAC;IACrC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOH,WAAW;AACtB,CAAC;AAEDgB,OAAA,CAAAC,OAAA,GAAerB,cAAc"},"metadata":{},"sourceType":"script","externalDependencies":[]}