{"ast":null,"code":"import{createSlice,nanoid}from\"@reduxjs/toolkit\";var initialState=[];var photoSlice=createSlice({name:'photos',initialState:initialState,reducers:{photoAdded:{reducer:function reducer(state,action){state.push(action.payload);},prepare:function prepare(imgDimensions){return{payload:{id:nanoid(),imgSrc:null,imgResult:null,imgDimensions:imgDimensions,hidden:true,type:null}};}},photoDirectAdded:{reducer:function reducer(state,action){state.push(action.payload);},prepare:function prepare(_ref){var imgSrc=_ref.imgSrc,imgDimensions=_ref.imgDimensions,type=_ref.type;return{payload:{id:nanoid(),imgSrc:imgSrc,imgResult:imgSrc,imgDimensions:imgDimensions,hidden:false,type:type}};}},photoUpdatedSrc:function photoUpdatedSrc(state,action){var _action$payload=action.payload,id=_action$payload.id,imgSrc=_action$payload.imgSrc,type=_action$payload.type;var existingPhoto=state.find(function(photo){return photo.id===id;});if(existingPhoto){existingPhoto.imgSrc=imgSrc;existingPhoto.imgResult=imgSrc;existingPhoto.hidden=false;existingPhoto.type=type;}},photoUpdatedResult:function photoUpdatedResult(state,action){var _action$payload2=action.payload,id=_action$payload2.id,imgResult=_action$payload2.imgResult;var existingPhoto=state.find(function(photo){return photo.id===id;});if(existingPhoto){existingPhoto.imgResult=imgResult;}},photoDeleted:function photoDeleted(state,action){var id=action.payload.id;//console.log(\"reduxid\", id);\n//const idx = state.findIndex(photo => photo.id === id);\n//console.log(\"existingPhoto\", existingPhoto);\n//const idx = state.indexOf(existingPhoto);\n//console.log(\"idx\", idx);\n//state.splice(idx, 1);\nreturn state.filter(function(photo){return photo.id!==id;});}}});var _photoSlice$actions=photoSlice.actions,photoAdded=_photoSlice$actions.photoAdded,photoDirectAdded=_photoSlice$actions.photoDirectAdded,photoSetName=_photoSlice$actions.photoSetName,photoUpdatedSrc=_photoSlice$actions.photoUpdatedSrc,photoUpdatedResult=_photoSlice$actions.photoUpdatedResult,photoDeleted=_photoSlice$actions.photoDeleted,allPhotosDeleted=_photoSlice$actions.allPhotosDeleted;export{photoAdded,photoDirectAdded,photoSetName,photoUpdatedSrc,photoUpdatedResult,photoDeleted,allPhotosDeleted};export default photoSlice.reducer;","map":{"version":3,"names":["createSlice","nanoid","initialState","photoSlice","name","reducers","photoAdded","reducer","state","action","push","payload","prepare","imgDimensions","id","imgSrc","imgResult","hidden","type","photoDirectAdded","_ref","photoUpdatedSrc","_action$payload","existingPhoto","find","photo","photoUpdatedResult","_action$payload2","photoDeleted","filter","_photoSlice$actions","actions","photoSetName","allPhotosDeleted"],"sources":["/home/luc/Documents/luclongin.github.io/src/features/photoEdition/PhotoSlice.js"],"sourcesContent":["import { createSlice, nanoid } from \"@reduxjs/toolkit\";\n\nconst initialState = [];\n\nconst photoSlice = createSlice({\n      name: 'photos',\n      initialState,\n      reducers: {\n            photoAdded: {\n                  reducer(state, action) {\n                        state.push(action.payload)\n                  },\n                  prepare(imgDimensions) {\n                        return {\n                              payload: {\n                                    id: nanoid(),\n                                    imgSrc: null,\n                                    imgResult: null,\n                                    imgDimensions,\n                                    hidden: true,\n                                    type: null\n                              }\n                        }\n                  }\n            },\n            photoDirectAdded: {\n                  reducer(state, action) {\n                        state.push(action.payload)\n                  },\n                  prepare({imgSrc, imgDimensions, type}) {\n                        return {\n                              payload: {\n                                    id: nanoid(),\n                                    imgSrc,\n                                    imgResult: imgSrc,\n                                    imgDimensions,\n                                    hidden: false,\n                                    type\n                              }\n                        }\n                  }\n            },\n            photoUpdatedSrc(state, action) {\n                  const {id, imgSrc, type} = action.payload;\n                  const existingPhoto = state.find(photo => photo.id === id);\n                  if(existingPhoto) {\n                        existingPhoto.imgSrc = imgSrc;\n                        existingPhoto.imgResult = imgSrc;\n                        existingPhoto.hidden = false;\n                        existingPhoto.type = type;\n                  }\n            },\n            photoUpdatedResult(state, action) {\n                  const {id, imgResult} = action.payload;\n                  const existingPhoto = state.find(photo => photo.id === id);\n                  if(existingPhoto) {\n                        existingPhoto.imgResult = imgResult;\n                  } \n            },\n            photoDeleted(state, action) {\n                  const {id} = action.payload;\n                  //console.log(\"reduxid\", id);\n                  //const idx = state.findIndex(photo => photo.id === id);\n                  //console.log(\"existingPhoto\", existingPhoto);\n                  //const idx = state.indexOf(existingPhoto);\n                  //console.log(\"idx\", idx);\n                  //state.splice(idx, 1);\n                  return state.filter(photo => photo.id !== id);\n            }\n      }\n})\n\nexport const {\n            photoAdded,\n            photoDirectAdded,\n            photoSetName,\n            photoUpdatedSrc,\n            photoUpdatedResult,\n            photoDeleted,\n            allPhotosDeleted\n      } = photoSlice.actions;\n\n\nexport default photoSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}