{"ast":null,"code":"import _defineProperty from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk,createAction}from\"@reduxjs/toolkit\";import OrderService from\"../../services/OrderService\";var initialState=[];export var createOrder=createAsyncThunk(\"orders/createOrder\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(orderData){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return OrderService.createOrder(orderData);case 2:res=_context.sent;return _context.abrupt(\"return\",res.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var retrieveOrders=createAsyncThunk(\"orders/retrieve\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return OrderService.getAll();case 2:res=_context2.sent;return _context2.abrupt(\"return\",res.data);case 4:case\"end\":return _context2.stop();}},_callee2);})));export var deleteOrder=createAsyncThunk(\"orders/delete\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(orderId){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return OrderService.deleteOrder(orderId);case 2:res=_context3.sent;return _context3.abrupt(\"return\",res.data);case 4:case\"end\":return _context3.stop();}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}());var ordersSlice=createSlice({name:\"order\",initialState:initialState,extraReducers:(_extraReducers={},_defineProperty(_extraReducers,createOrder.fulfilled,function(state,action){state.push(action.payload);}),_defineProperty(_extraReducers,retrieveOrders.fulfilled,function(state,action){return _toConsumableArray(action.payload);}),_defineProperty(_extraReducers,deleteOrder.fulfilled,function(state,action){var index=state.findIndex(function(_ref4){var orderId=_ref4.orderId;return orderId===action.payload.orderId;});console.log(\"index yoyo:\",index);state.splice(index,1);}),_extraReducers)});var reducer=ordersSlice.reducer;export default reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","createAction","OrderService","initialState","createOrder","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","orderData","res","wrap","_callee$","_context","prev","next","sent","abrupt","data","stop","_x","apply","arguments","retrieveOrders","_callee2","_callee2$","_context2","getAll","deleteOrder","_ref3","_callee3","orderId","_callee3$","_context3","_x2","ordersSlice","name","extraReducers","_extraReducers","_defineProperty","fulfilled","state","action","push","payload","_toConsumableArray","index","findIndex","_ref4","console","log","splice","reducer"],"sources":["/home/luc/Documents/luclongin.github.io/src/features/order/orders.js"],"sourcesContent":["import { createSlice, createAsyncThunk, createAction } from \"@reduxjs/toolkit\";\nimport OrderService from \"../../services/OrderService\";\n\nconst initialState = [];\n\nexport const createOrder = createAsyncThunk(\n      \"orders/createOrder\",\n      async (orderData) => {\n            const res = await OrderService.createOrder(orderData);\n            return res.data;\n      }\n);\n\nexport const retrieveOrders = createAsyncThunk(\n      \"orders/retrieve\",\n      async () => {\n            const res = await OrderService.getAll();\n            return res.data;\n      }\n);\n\nexport const deleteOrder = createAsyncThunk(\n      \"orders/delete\",\n      async (orderId) => {\n            const res = await OrderService.deleteOrder(orderId);\n            return res.data;\n      }\n)\n\nconst ordersSlice = createSlice({\n      name: \"order\",\n      initialState,\n      extraReducers: {\n            [createOrder.fulfilled]: (state, action) => {\n                  state.push(action.payload);\n            },\n            [retrieveOrders.fulfilled]: (state, action) => {\n                  return [...action.payload];\n            },\n            [deleteOrder.fulfilled]: (state, action) => {\n                  let index = state.findIndex(({orderId}) => orderId === action.payload.orderId);\n                  console.log(\"index yoyo:\", index);\n                  state.splice(index, 1);\n            },\n      },\n});\n\nconst { reducer } = ordersSlice;\nexport default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}