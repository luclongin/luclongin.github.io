{"ast":null,"code":"import _objectSpread from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{Box,Button,Container,TextField,Grid,Typography}from\"@mui/material\";import React,{useEffect,useState}from\"react\";import{styled}from\"@mui/material\";import UploadPhotoCardEmpty from\"../../uploadPhotoCardEmpty/uploadPhotoCardEmpty.component\";import{OrderStepTitle}from\"../../OrderStepTitle/orderStepTitle.component\";import{OrderStepSubtitle}from\"../../OrderStepTitle/orderStepTitle.component\";import{useSelector,useDispatch}from\"react-redux\";import UploadPhotoCard from\"../../uploadPhotoCard/uploadPhotoCard.component\";import{photoAdded}from\"../../../features/photoEdition/PhotoSlice\";import{Fragment}from\"react\";import{dispatchLetters}from\"../../../features/lettersEdition/LettersSlice\";import{nextButtonEnabled}from\"../../../features/handleFormButtons/FormButtonsSlice\";import AmpersandPhoto from'../../../images/ampersand.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyTextField=function MyTextField(_ref){var autofocus=_ref.autofocus,placeholder=_ref.placeholder,handler=_ref.handler,letterOrder=_ref.letterOrder,value=_ref.value;return/*#__PURE__*/_jsx(TextField,{autoFocus:autofocus,onChange:function onChange(e){return handler(e,letterOrder);},variant:\"standard\",value:value,placeholder:placeholder,InputProps:{inputProps:{style:{textAlign:'center',position:'relative',top:'20px'},maxLength:1},disableUnderline:true,style:{fontSize:\"10em\",fontWeight:'bold',fontFamily:'Arial Bold',height:'162px'}},sx:_defineProperty({height:'100%',width:'100%',textAlign:\"center\"},\"height\",'162px')});};var Letras=function Letras(){var dispatch=useDispatch();var addedPhotos=useSelector(function(state){return state.photos;});var addedLetters=useSelector(function(state){return state.letters;});var _useState=useState({letter1:\"\",letter2:\"&\",letter3:\"\"}),_useState2=_slicedToArray(_useState,2),letters=_useState2[0],setLetters=_useState2[1];var textOnChangeHandler=function textOnChangeHandler(e,letterOrder){// only accept alpha numeric\nvar letter=e.target.value.toUpperCase().replace(/[\\W_]+/g,\"\");setLetters(_objectSpread(_objectSpread({},letters),{},_defineProperty({},letterOrder,letter)));};useEffect(function(){// when letters are changed, dispatch change\ndispatch(dispatchLetters(letters));// each time you have values for the three letters\n// dispatch\nvar lettersAllFilled=letters.letter1!==\"\"&&letters.letter2!==\"\"&&letters.letter3!==\"\";// CASE: ALL PHOTOS ARE ADDED AND LAST LETTER IS GOING TO BE ADDED\n// CHECK IF ALL PHOTOS ARE UPLOADED AND IF ALL LETTERS ARE ADDED\nvar enableNext=true;addedPhotos.map(function(photo){enableNext=enableNext&&photo.imgSrc!==null;});enableNext=enableNext&&lettersAllFilled;console.log(\"enableNext2\",enableNext);if(enableNext){dispatch(nextButtonEnabled(true));}else{dispatch(nextButtonEnabled(false));}},[letters]);return/*#__PURE__*/_jsx(Container,{sx:{overflow:'hidden'},children:addedPhotos.length>0?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(OrderStepTitle,{title:\"Escoje tus fotos y letras\"}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",sx:{},children:/*#__PURE__*/_jsxs(Grid,{container:true,sx:{width:'320px'},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sx:{position:'relative'},children:/*#__PURE__*/_jsx(MyTextField,{letters:letters,setLetters:setLetters,value:letters.letter1,handler:textOnChangeHandler,letterOrder:\"letter1\",placeholder:\"P\",autofocus:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(UploadPhotoCard,{photo:addedPhotos[0],width:160})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sx:{display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(UploadPhotoCard,{photo:addedPhotos[1],width:160})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sx:{position:'relative',display:'flex',justifyContent:'flex-start',pl:3.5,pt:2},children:/*#__PURE__*/_jsx(\"img\",{src:AmpersandPhoto,alt:\"Ampersand\",width:\"115px\",height:\"130px\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sx:{position:'relative',display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(MyTextField,{letters:letters,value:letters.letter3,setLetters:setLetters,handler:textOnChangeHandler,letterOrder:\"letter3\",placeholder:\"B\",autofocus:false})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(UploadPhotoCard,{photo:addedPhotos[2],width:160})})]})})]}):null});};export default Letras;","map":{"version":3,"names":["Box","Button","Container","TextField","Grid","Typography","React","useEffect","useState","styled","UploadPhotoCardEmpty","OrderStepTitle","OrderStepSubtitle","useSelector","useDispatch","UploadPhotoCard","photoAdded","Fragment","dispatchLetters","nextButtonEnabled","AmpersandPhoto","jsx","_jsx","jsxs","_jsxs","MyTextField","_ref","autofocus","placeholder","handler","letterOrder","value","autoFocus","onChange","e","variant","InputProps","inputProps","style","textAlign","position","top","maxLength","disableUnderline","fontSize","fontWeight","fontFamily","height","sx","_defineProperty","width","Letras","dispatch","addedPhotos","state","photos","addedLetters","letters","_useState","letter1","letter2","letter3","_useState2","_slicedToArray","setLetters","textOnChangeHandler","letter","target","toUpperCase","replace","_objectSpread","lettersAllFilled","enableNext","map","photo","imgSrc","console","log","overflow","children","length","title","display","justifyContent","container","item","xs","pl","pt","src","alt"],"sources":["/home/luc/Documents/luclongin.github.io/src/components/secondStep/letras/letras.component.jsx"],"sourcesContent":["import { Box, Button, Container, TextField, Grid, Typography } from \"@mui/material\";\nimport React, {useEffect, useState} from \"react\";\nimport {styled} from \"@mui/material\";\nimport UploadPhotoCardEmpty from \"../../uploadPhotoCardEmpty/uploadPhotoCardEmpty.component\";\nimport { OrderStepTitle } from \"../../OrderStepTitle/orderStepTitle.component\";\nimport { OrderStepSubtitle } from \"../../OrderStepTitle/orderStepTitle.component\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport UploadPhotoCard from \"../../uploadPhotoCard/uploadPhotoCard.component\";\nimport { photoAdded } from \"../../../features/photoEdition/PhotoSlice\";\nimport { Fragment } from \"react\";\nimport { dispatchLetters } from \"../../../features/lettersEdition/LettersSlice\";\nimport { nextButtonEnabled } from \"../../../features/handleFormButtons/FormButtonsSlice\";\nimport AmpersandPhoto from '../../../images/ampersand.png';\n\nconst MyTextField = ({autofocus, placeholder, handler, letterOrder, value}) => {\n    return(\n        <TextField\n            autoFocus={autofocus}\n            onChange={(e) => handler(e, letterOrder)}\n            variant=\"standard\"\n            value={value}\n            placeholder={placeholder}\n            InputProps={{\n                inputProps: {\n                    style: {\n                        textAlign: 'center',\n                        position: 'relative',\n                        top: '20px'\n                    },\n\n                    maxLength: 1,\n                },\n                disableUnderline: true,\n                style: {\n                    fontSize: \"10em\",\n                    fontWeight: 'bold',\n                    fontFamily: 'Arial Bold',\n                    height: '162px'\n                },\n            }} sx={{\n                height: '100%',\n                width: '100%',\n                textAlign: \"center\",\n                height: '162px'\n            }}\n        />\n    );\n}\n\nconst Letras = () => {\n    const dispatch = useDispatch();\n    const addedPhotos = useSelector(state => state.photos);  \n    const addedLetters = useSelector(state => state.letters);\n\n    const [letters, setLetters] = useState({letter1: \"\", letter2: \"&\", letter3: \"\"});\n    const textOnChangeHandler = (e, letterOrder) => {\n        // only accept alpha numeric\n        let letter = e.target.value.toUpperCase().replace(/[\\W_]+/g,\"\");\n        setLetters({...letters, [letterOrder]: letter});    \n    }\n\n    useEffect(() => {\n        // when letters are changed, dispatch change\n        dispatch(dispatchLetters(letters));\n\n        // each time you have values for the three letters\n        // dispatch\n        const lettersAllFilled = (letters.letter1 !== \"\") && (letters.letter2 !== \"\") && (letters.letter3 !== \"\");\n\n        // CASE: ALL PHOTOS ARE ADDED AND LAST LETTER IS GOING TO BE ADDED\n        // CHECK IF ALL PHOTOS ARE UPLOADED AND IF ALL LETTERS ARE ADDED\n        let enableNext = true;\n        addedPhotos.map(photo => {\n            enableNext = enableNext && (photo.imgSrc !== null);\n        });\n\n        enableNext = enableNext && lettersAllFilled;\n        console.log(\"enableNext2\", enableNext);\n\n        if(enableNext) {\n            dispatch(nextButtonEnabled(true));\n        } else {\n            dispatch(nextButtonEnabled(false));\n        }\n    }, [letters]);\n\n    return(\n        <Container sx={{\n            overflow: 'hidden'\n        }}>\n            {addedPhotos.length > 0 ?\n            (<Fragment>\n                <OrderStepTitle title=\"Escoje tus fotos y letras\" />\n                <Box display=\"flex\" justifyContent=\"center\" sx={{\n                }}>\n                    <Grid container sx={{\n                        width:'320px',\n                }}>\n                        <Grid item xs={6} sx={{\n                            position: 'relative',\n                        }}>\n                            <MyTextField letters={letters} setLetters={setLetters} value={letters.letter1} handler={textOnChangeHandler} letterOrder=\"letter1\" placeholder={\"P\"} autofocus={true}/>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <UploadPhotoCard photo={addedPhotos[0]} width={160}/>\n                        </Grid>\n                        <Grid item xs={6} sx={{display: 'flex', justifyContent: 'flex-end'}}>\n                            <UploadPhotoCard photo={addedPhotos[1]} width={160} />\n                        </Grid>\n                        <Grid item xs={6} sx={{\n                            position: 'relative',\n                            display: 'flex',\n                            justifyContent: 'flex-start',\n                            pl: 3.5,\n                            pt: 2\n                        }}>\n                            <img src={AmpersandPhoto} alt=\"Ampersand\" width={\"115px\"} height={\"130px\"}/>\n                        </Grid>\n                        <Grid item xs={6} sx={{\n                            position: 'relative',\n                            display: 'flex',\n                            justifyContent: 'flex-end',\n                        }}>\n                            <MyTextField letters={letters} value={letters.letter3} setLetters={setLetters} handler={textOnChangeHandler} letterOrder=\"letter3\" placeholder={\"B\"} autofocus={false}/>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <UploadPhotoCard photo={addedPhotos[2]} width={160} />\n                        </Grid>\n                    </Grid>\n                </Box>\n            </Fragment>): null\n            }\n        </Container>\n    );\n}\n\nexport default Letras;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}