{"ast":null,"code":"import _defineProperty from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import LetterService from\"../../services/LetterService\";var initialState=[];export var createLetter=createAsyncThunk(\"orders/createLetter\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return LetterService.createLetter(data);case 2:res=_context.sent;return _context.abrupt(\"return\",res.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var getLetters=createAsyncThunk(\"orders/getLetters\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return LetterService.getLetters();case 2:res=_context2.sent;return _context2.abrupt(\"return\",res.data);case 4:case\"end\":return _context2.stop();}},_callee2);})));export var deleteLetter=createAsyncThunk(\"orders/deleteLetter\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(orderId){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return LetterService.deleteLetter(orderId);case 2:res=_context3.sent;return _context3.abrupt(\"return\",res.data);case 4:case\"end\":return _context3.stop();}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}());var letterUploadSlice=createSlice({name:\"letters\",initialState:initialState,extraReducers:(_extraReducers={},_defineProperty(_extraReducers,createLetter.fulfilled,function(state,action){state.push(action.payload);}),_defineProperty(_extraReducers,getLetters.fulfilled,function(state,action){return _toConsumableArray(action.payload);}),_defineProperty(_extraReducers,deleteLetter.fulfilled,function(state,action){var index=state.findIndex(function(_ref4){var orderId=_ref4.orderId;return orderId===action.payload.orderId;});state.splice(index,1);}),_extraReducers)});var reducer=letterUploadSlice.reducer;export default reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","LetterService","initialState","createLetter","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","res","wrap","_callee$","_context","prev","next","sent","abrupt","stop","_x","apply","arguments","getLetters","_callee2","_callee2$","_context2","deleteLetter","_ref3","_callee3","orderId","_callee3$","_context3","_x2","letterUploadSlice","name","extraReducers","_extraReducers","_defineProperty","fulfilled","state","action","push","payload","_toConsumableArray","index","findIndex","_ref4","splice","reducer"],"sources":["/home/luc/Documents/luclongin.github.io/src/features/lettersUpload/lettersUploadSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport LetterService from \"../../services/LetterService\";\n\nconst initialState = [];\n\nexport const createLetter = createAsyncThunk(\n      \"orders/createLetter\",\n      async (data) => {\n            const res = await LetterService.createLetter(data);\n            return res.data;\n      }\n);\n\nexport const getLetters = createAsyncThunk(\n      \"orders/getLetters\",\n      async () => {\n            const res = await LetterService.getLetters();\n            return res.data;\n      }\n);\n\nexport const deleteLetter = createAsyncThunk(\n      \"orders/deleteLetter\",\n      async (orderId) => {\n            const res = await LetterService.deleteLetter(orderId);\n            return res.data;\n      }\n)\n\nconst letterUploadSlice = createSlice({\n      name: \"letters\",\n      initialState,\n      extraReducers: {\n            [createLetter.fulfilled]: (state, action) => {\n                  state.push(action.payload);\n            },\n            [getLetters.fulfilled]: (state, action) => {\n                  return [...action.payload];\n            },\n            [deleteLetter.fulfilled]: (state, action) => {\n                  let index = state.findIndex(({orderId}) => orderId === action.payload.orderId);\n                  state.splice(index, 1);\n            },\n      }\n});\n\n\n\nconst { reducer } = letterUploadSlice;\nexport default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}