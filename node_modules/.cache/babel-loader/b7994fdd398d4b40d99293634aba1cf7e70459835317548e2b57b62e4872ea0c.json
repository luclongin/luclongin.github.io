{"ast":null,"code":"import _defineProperty from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/luc/Documents/luclongin.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import UserService from\"../../services/UserService\";var initialState=[];export var createUser=createAsyncThunk(\"orders/createUser\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userData){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return UserService.createUser(userData);case 2:res=_context.sent;return _context.abrupt(\"return\",res.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var getUsers=createAsyncThunk(\"orders/users\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return UserService.getUsers();case 2:res=_context2.sent;return _context2.abrupt(\"return\",res.data);case 4:case\"end\":return _context2.stop();}},_callee2);})));export var deleteUser=createAsyncThunk(\"orders/deleteUser\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(userId){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return UserService.deleteUser(userId);case 2:res=_context3.sent;console.log(\"returned res:\",res);return _context3.abrupt(\"return\",res.data);case 5:case\"end\":return _context3.stop();}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}());var uploadedUserSlice=createSlice({name:\"uploadedUser\",initialState:initialState,extraReducers:(_extraReducers={},_defineProperty(_extraReducers,createUser.fulfilled,function(state,action){state.push(action.payload);}),_defineProperty(_extraReducers,getUsers.fulfilled,function(state,action){return _toConsumableArray(action.payload);}),_defineProperty(_extraReducers,deleteUser.fulfilled,function(state,action){var index=state.findIndex(function(_ref4){var userId=_ref4.userId;return userId===action.payload.userId;});state.splice(index,1);}),_extraReducers)});var reducer=uploadedUserSlice.reducer;export default reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","UserService","initialState","createUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","res","wrap","_callee$","_context","prev","next","sent","abrupt","data","stop","_x","apply","arguments","getUsers","_callee2","_callee2$","_context2","deleteUser","_ref3","_callee3","userId","_callee3$","_context3","console","log","_x2","uploadedUserSlice","name","extraReducers","_extraReducers","_defineProperty","fulfilled","state","action","push","payload","_toConsumableArray","index","findIndex","_ref4","splice","reducer"],"sources":["/home/luc/Documents/luclongin.github.io/src/features/userInfoUpload/userInfoUpload.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport UserService from \"../../services/UserService\";\n\nconst initialState = [];\n\nexport const createUser = createAsyncThunk(\n      \"orders/createUser\",\n      async (userData) => {\n            const res = await UserService.createUser(userData);\n            return res.data;\n      }\n);\n\nexport const getUsers = createAsyncThunk(\n      \"orders/users\",\n      async () => {\n            const res = await UserService.getUsers();\n            return res.data;\n      }\n);\n\nexport const deleteUser = createAsyncThunk(\n      \"orders/deleteUser\",\n      async (userId) => {\n            const res = await UserService.deleteUser(userId);\n            console.log(\"returned res:\", res);\n            return res.data;\n      }\n)\n\nconst uploadedUserSlice = createSlice({\n      name: \"uploadedUser\",\n      initialState,\n      extraReducers: {\n            [createUser.fulfilled]: (state, action) => {\n                  state.push(action.payload);\n            },\n            [getUsers.fulfilled]: (state, action) => {\n                  return [...action.payload];\n            },\n            [deleteUser.fulfilled]: (state, action) => {\n                  let index = state.findIndex(({userId}) => userId === action.payload.userId);\n                  state.splice(index, 1);\n            }\n      }\n});\n\nconst { reducer } = uploadedUserSlice;\nexport default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}